function initialize(){var n=new google.maps.StyledMapType([{stylers:[{hue:"#ff1100"},{saturation:-80}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]}],{name:"Styled Map"});navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){var t,i;_lat=n.coords.latitude;_lang=n.coords.longitude;ourAddress=getCurrentLocationFirstTime(n);startingPoint=new google.maps.LatLng(_lat,_lang);t={zoom:12,center:startingPoint,mapTypeId:google.maps.MapTypeId.ROADMAP};AddPartnersToArray();bounds=new google.maps.LatLngBounds;map=new google.maps.Map(document.getElementById("map-canvas"),t);i=new google.maps.Marker({map:map,icon:"http://www.conceptfire-uk.com/wp-content/uploads/2011/07/icon-pin-color.png",position:startingPoint});compareDistances()},function(){handleNoGeolocation(browserSupportFlag)}):handleNoGeolocation(browserSupportFlag);displaymapData()}function displaymapData(){var nt=new google.maps.MarkerImage("http://chart.apis.google.com/chart?chst=d_map_pin_shadow",new google.maps.Size(40,37),new google.maps.Point(0,0),new google.maps.Point(12,35)),h="",i,r,c,t,y,s,p,w;if(g=new google.maps.MarkerImage("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|"+h,new google.maps.Size(36,36),new google.maps.Point(0,0),new google.maps.Point(10,34)),i=$("#hfPartners").val(),i!=null&&i.split("||").length>0)for(r=i.split("||"),c=0,t=0;t<r.length;t++)if(r[t]){var n=r[t].split("//"),l=n[5].toString(),u=n[0].toString(),a=n[1].toString(),f=n[2].toString(),e=n[3].toString(),b=n[4].toString(),v=n[6].toString(),k=n[7].toString().split("_")[0],d=n[7].toString().split("_")[1],h="a11a21",g=new google.maps.MarkerImage("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|"+h,new google.maps.Size(36,36),new google.maps.Point(0,0),new google.maps.Point(10,34)),o=new google.maps.Marker({position:new google.maps.LatLng(k,d),map:map,title:"Reseller - "+u,Address:l+", "+a,ContactPerson:e,Tel:b,Email:v,Province:a,ID:c++,Tier:f,CompanyName:u});markerArray.push(o);y=new google.maps.Circle({map:map,radius:1609});y.bindTo("center",o,"position");s="";f&&(s="<tr><td style='font-weight:bold;'>Tier<\/td><td>"+f+"<\/td><\/tr>");p="";e&&(p="<tr><td style='font-weight:bold;'>Contact Person<\/td><td>"+e+"<\/td><\/tr>");w="<div class='infotable'><table><tr><td style='font-weight:bold; font-size:18px; padding-bottom:20px;' colspan='2'>"+u+"<\/td><\/tr>"+s+"<tr><td style='font-weight:bold;width:100px;'>Address<\/td><td style='width:200px;'>"+l+"<\/td><\/tr><tr><td style='font-weight:bold;'>Email<\/td><td>"+v+"<\/td><\/tr><\/table><\/div>";createInfoWindow(o,w)}}function createInfoWindow(n,t){google.maps.event.addListener(n,"click",function(){var i=new google.maps.InfoWindow;i.setContent(t);i.open(map,n)})}function onItemClick(n,t){var i=t.data.text+"<br /><br /><hr />Coordinate: "+t.data.lng+","+t.data.lat;infowindow.setContent(i);infowindow.setPosition(t.position);infowindow.open(map)}function AddPartnersToArray(){var i=$("#hfPartners").val(),t,n;if(i!=null&&i.split("||").length>0)for(t=i.split("||"),n=0;n<t.length;n++)if(t[n]){var r=t[n].split("//"),u=r[7].toString().split("_")[0],f=r[7].toString().split("_")[1];latlngs.push(new google.maps.LatLng(u,f))}}function resultMouseOver(){$('tr[name="resultrow"]').hover(function(){var n=$(this).attr("id");typeof n!="undefined"&&typeof markerArray[n]!="undefined"&&markerArray[n].setIcon("/App_themes/oki/images/marker-highlight.png")},function(){var n=$(this).attr("id");typeof n!="undefined"&&typeof markerArray[n]!="undefined"&&markerArray[n].setIcon(markerArray[n].OriginalIcon)})}function handleNoGeolocation(n){n==!0?alert("Geolocation service failed."):alert("Your browser doesn't support geolocation.")}function getCurrentLocationFirstTime(n){var i=n.coords.latitude,r=n.coords.longitude,t,u;return UserLocation=i+"_"+r,t="",u=new google.maps.LatLng(i,r),geocoder=new google.maps.Geocoder,geocoder.geocode({latLng:u},function(n,i){i==google.maps.GeocoderStatus.OK?($("#CurrentLocation").val(n[1].formatted_address),t=n[1].formatted_address):alert("Geocode was not successful for the following reason: "+i)}),t}function codeAddress(n){geocoder.geocode({address:n},function(n,t){if(t==google.maps.GeocoderStatus.OK){var i=n[0].geometry.location;compareDistances(i)}else alert("Geocode was not successful for the following reason: "+t)})}function compareDistances(){var t,n,i,r,u,f;if(latlngs.length){for(t=[],n=0;n<latlngs.length;n++)t.push({distance:google.maps.geometry.spherical.computeDistanceBetween(startingPoint,latlngs[n]),marker:n});for(t.sort(function(n,t){return n.distance-t.distance}),i=0;i<markerArray.length;i++)for(r=markerArray[i],u=0;u<3;u++)if(f=latlngs[t[u].marker],r.position.A==f.A&&r.position.F==f.F){r.setMap(map);break}}}var map,kLayer="",geocoder,hasreinit=!1,marker=null,directionsDisplay,directionsService,stepDisplay,markerArray=[],ArrLocations,UserLocation="",ActiveInfoWindow,PlacesList="",bounds,startingPoint,_lat,_lang,latlngs=[],locations=[],LocCount=0;$(function(){var n=document.createElement("script");n.type="text/javascript";n.src="http://maps.googleapis.com/maps/api/js?sensor=true&callback=initialize";document.body.appendChild(n)});
//# sourceMappingURL=Locations.min.js.map
